# Автозагрузчик

Ключевые слова "НЕОБХОДИМО", "НЕДОПУСТИМО", "ТРЕБУЕТСЯ", "НУЖНО", "НЕ ПОЗВОЛЯЕТСЯ", "СЛЕДУЕТ", "НЕ СЛЕДУЕТ",
"РЕКОМЕНДУЕТСЯ", "НЕ РЕКОМЕНДУЕТСЯ", "ВОЗМОЖНО" и "НЕОБЯЗАТЕЛЬНО" в этом документе СЛЕДУЕТ интерпретировать
в соответствии с [RFC 2119].


## 1. Обзор

PSR-4 описывает спецификацию для [автозагрузки] классов из путей к файлам. Он полностью совместим и может быть
использован в дополнении к любой другой спецификации автозагрузки, включая [PSR-0]. PSR-4 также описывает, где
размещать файлы, которые будут автоматически загружены в соответствии со спецификацией.


## 2. Спецификация

1. Термин «класс» относится ко всем классам, интерфейсам и трейтам.

2. Полное имя класса имеет следующую форму:

        \<ИмяПространстваИмен>\(<ИменаПодпространствИмен>\)*<ИмяКласса>

    1. Полное имя класса НЕОБХОДИМО начинать с пространства имён верхнего уровня `vendor namespace`.

    2. В полном имини класса ВОЗМОЖНО использовать одно или более подпространство имён.

    3. Полное имя класса НЕОБХОДИМО завершать именем класса.

    4. Символы нижнего подчёркивания не имеют специального назначения в любой области полного имени класса.

    5. ВОЗМОЖНО использование алфавитных символов в полном имени класса в любых сочетаниях нижнего и верхнего регистра.

    6. НЕОБХОДИМО ссылаться на классы с учётом регистра.

3. При загрузке файла, который соответствует полному имени класса ...

    1. Непрерывный ряд одного или более ведущих пространств и подпространств имён, не включая ведущий разделитель
       пространств имён, в полном имени класса («префикс пространства имён») соответствует по меньшей мере одной
       «базовой директории».

    2. Непрерывный ряд подпространств имён после «префикса пространства имён» соответствует поддиректории в "базовой
       директории", в которой разделители пространств имён представляют разделители директорий. Имя поддиректория
       НЕОБХОДИМО задавать в соответствии с регистром подпространств имён.

    3. Завершающее имя класса соответствует имени файла, оканчивающегося на `.php`. Имя файла НЕОБХОДИМО задавать в
       соответствии с регистром завершающего имени класса.

4. В реализации автозагрузчика НЕДОПУСТИМО бросать исключения и вызывать ошибки любого уровня. НЕ СЛЕДУЕТ возвращать
   какие-либо значения.


## 3. Примеры

В таблице ниже показано соответствие пути к файлу заданному полному имени класса, префиксу пространства имён и
базовой директории.

| Полное имя класса            | Префикс пространства имён | Базовый директорий     | Путь к файлу
| -----------------------------|---------------------------|------------------------|-------------------------------------------
| \Acme\Log\Writer\File_Writer | Acme\Log\Writer           | ./acme-log-writer/lib/ | ./acme-log-writer/lib/File_Writer.php
| \Aura\Web\Response\Status    | Aura\Web                  | /path/to/aura-web/src/ | /path/to/aura-web/src/Response/Status.php
| \Symfony\Core\Request        | Symfony\Core              | ./vendor/Symfony/Core/ | ./vendor/Symfony/Core/Request.php
| \Zend\Acl                    | Zend                      | /usr/includes/Zend/    | /usr/includes/Zend/Acl.php

Примеры реализации автозагрузчиков, соответствующих спецификации можно посмотреть [здесь]. НЕДОПУСТИМО рассматривать
их, как часть спецификации, и ВОЗМОЖНО изменять их в любое время.

[RFC 2119]: https://github.com/Webtoucher/RFC/blob/master/RFC2119.md
[автозагрузки]: http://php.net/autoload
[PSR-0]: PSR-0.md
[здесь]: PSR-4-autoloader-examples.md
